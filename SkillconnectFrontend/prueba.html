<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard SPA Animado</title>
    <!-- Carga de Tailwind CSS para un diseño moderno y responsivo --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Configuración de la fuente Inter y colores de Tailwind --><script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary-blue': '#2563EB', // Un azul vibrante
                        'sidebar-bg': '#F9FAFB', // Fondo ligeramente gris para el menú
                    }
                }
            }
        }
    </script>
    <style>
        /* Animación mejorada: Las tarjetas se mueven directamente hacia la izquierda */
        
        /* Estilos base para el cuerpo y contenedor principal */
        body {
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            overflow-x: hidden;
            margin: 0;
            padding: 0;
        }

        /* Contenedor de las tarjetas en el estado inicial */
        #initial-cards-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 24px;
            min-height: calc(100vh - 80px);
            padding: 24px;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            left: 0;
        }

        /* Estilo para las tarjetas en ambos estados */
        .menu-card {
            cursor: pointer;
            width: 280px;
            height: 160px;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid transparent;
            position: relative;
        }
        
        .menu-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
        }

        /* Contenido del menú dentro de las tarjetas */
        .card-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            text-align: center;
            gap: 8px;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Estilo de los iconos en las tarjetas */
        .card-icon {
            font-size: 2.5rem;
            line-height: 1;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Estilos para el estado de "dashboard activo" */
        body.dashboard-active {
            display: flex;
            flex-direction: row;
        }

        /* Transforma el contenedor de tarjetas en sidebar */
        body.dashboard-active #initial-cards-container {
            flex-direction: column;
            justify-content: flex-start;
            align-items: stretch;
            width: 288px;
            min-height: 100vh;
            gap: 8px;
            padding: 24px;
            background-color: #F9FAFB;
            border-right: 1px solid #E5E7EB;
            flex-shrink: 0;
            left: 0;
        }

        /* Las tarjetas se transforman en elementos de menú lateral */
        body.dashboard-active .menu-card {
            width: 100%;
            height: auto;
            padding: 16px;
            box-shadow: none;
            border: 1px solid transparent;
            background-color: transparent;
        }
        
        body.dashboard-active .menu-card:hover {
            transform: none;
            background-color: rgba(37, 99, 235, 0.1);
            border-color: #2563EB;
            box-shadow: none;
        }

        body.dashboard-active .menu-card.active-menu-item {
            background-color: rgba(37, 99, 235, 0.1);
            border-color: #2563EB;
            color: #2563EB;
        }

        /* Ajuste del contenido de las tarjetas en el sidebar */
        body.dashboard-active .card-content {
            flex-direction: row;
            justify-content: flex-start;
            text-align: left;
            gap: 1rem;
        }

        body.dashboard-active .menu-card .card-icon {
            font-size: 1.5rem;
            width: 24px;
            height: 24px;
        }
        
        body.dashboard-active .menu-card .card-text-primary {
            font-size: 1rem;
            font-weight: 600;
            color: #1F2937;
        }
        
        body.dashboard-active .menu-card .card-text-secondary {
            display: none;
        }

        body.dashboard-active .menu-card.active-menu-item .card-text-primary,
        body.dashboard-active .menu-card.active-menu-item .card-icon {
            color: #2563EB;
        }

        /* Título del sidebar */
        #sidebar-title {
            opacity: 0;
            height: 0;
            overflow: hidden;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            margin-bottom: 0;
        }
        
        body.dashboard-active #sidebar-title {
            opacity: 1;
            height: auto;
            margin-bottom: 2rem;
        }

        /* Contenido principal del dashboard */
        main#main-content {
            flex-grow: 1;
            opacity: 0;
            transform: translateX(20px);
            transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.3s, transform 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.3s;
            padding: 24px;
            display: none;
        }
        
        body.dashboard-active main#main-content {
            opacity: 1;
            transform: translateX(0);
            display: block;
        }

        /* Contenido de las secciones */
        .content-section {
            display: none;
        }
        
        .content-section.active {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">

    <!-- Encabezado del Dashboard (Visible en ambos estados, pero centrado inicialmente) --><header id="dashboard-header" class="w-full text-center py-8 text-gray-700 font-extrabold text-3xl opacity-100 transition-opacity 0.8s ease-in-out">
        Dashboard
        <p id="select-section-text" class="text-xl font-normal text-gray-500 mt-2 transition-opacity 0.8s ease-in-out">Selecciona una Sección</p>
    </header>

    <!-- Contenedor para el estado inicial de las tarjetas --><div id="initial-cards-container">
        <h1 id="sidebar-title" class="text-2xl font-extrabold text-primary-blue">Dashboard</h1>
        
        <!-- Las tarjetas se transforman directamente en el menú lateral --><div id="card-perfil" data-target="perfil" class="menu-card p-6 bg-white rounded-xl shadow-lg flex flex-col items-center justify-center text-center">
            <svg class="card-icon w-10 h-10 text-primary-blue mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
            <p class="card-text-primary text-lg font-semibold text-gray-800">Mi Perfil</p>
            <p class="card-text-secondary text-sm text-gray-500">Administra tus datos.</p>
        </div>

        <div id="card-mensajes" data-target="mensajes" class="menu-card p-6 bg-white rounded-xl shadow-lg flex flex-col items-center justify-center text-center">
            <svg class="card-icon w-10 h-10 text-primary-blue mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>
            <p class="card-text-primary text-lg font-semibold text-gray-800">Solicitudes y Mensajes</p>
            <p class="card-text-secondary text-sm text-gray-500">Revisa tus conversaciones.</p>
        </div>

        <div id="card-buscar" data-target="buscar" class="menu-card p-6 bg-white rounded-xl shadow-lg flex flex-col items-center justify-center text-center">
            <svg class="card-icon w-10 h-10 text-primary-blue mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            <p class="card-text-primary text-lg font-semibold text-gray-800">Buscar Habilidades</p>
            <p class="card-text-secondary text-sm text-gray-500">Encuentra a otros usuarios.</p>
        </div>

        <div id="card-intercambio" data-target="intercambio" class="menu-card p-6 bg-white rounded-xl shadow-lg flex flex-col items-center justify-center text-center">
            <svg class="card-icon w-10 h-10 text-primary-blue mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg>
            <p class="card-text-primary text-lg font-semibold text-gray-800">Solicitud de Intercambio</p>
            <p class="card-text-secondary text-sm text-gray-500">Crea nuevas solicitudes.</p>
        </div>
    </div>

    <!-- Área de Contenido Principal (aparece animado) --><main id="main-content" class="p-6 lg:p-10">
        <h2 class="text-3xl font-bold text-gray-700 mb-6" id="section-title"></h2>

        <!-- Contenedor Único para las Secciones Dinámicas --><div id="content-container" class="bg-white p-6 rounded-xl shadow-2xl">

            <!-- SECCIÓN 1: PERFIL --><div id="perfil" class="content-section">
                <h3 class="text-2xl font-semibold text-primary-blue mb-4">Mi Perfil de Usuario</h3>
                <p class="text-gray-600 mb-4">Aquí puedes editar tu información personal, habilidades que ofreces y las que buscas.</p>
                <div class="mt-4 p-4 bg-green-50 border-l-4 border-green-400 text-green-800 rounded">
                    <p class="font-semibold">Estado: <span class="text-green-700">Completado</span></p>
                    <p>Última actualización: 10/05/2024</p>
                </div>
            </div>

            <!-- SECCIÓN 2: MENSAJES --><div id="mensajes" class="content-section">
                <h3 class="text-2xl font-semibold text-primary-blue mb-4">Solicitudes y Mensajes Recibidos</h3>
                <p class="text-gray-600">Revisa tus conversaciones activas y las propuestas de intercambio que has enviado o recibido.</p>
                <ul class="list-disc list-inside text-gray-600 mt-4 space-y-2">
                    <li>Solicitud de "Diseño de Logo" de Ana (Pendiente)</li>
                    <li>Mensaje de Juan sobre "Clases de Guitarra" (Leído)</li>
                    <li>Propuesta aceptada para "Traducción de Documento" con María</li>
                </ul>
            </div>

            <!-- SECCIÓN 3: BUSCAR HABILIDADES --><div id="buscar" class="content-section">
                <h3 class="text-2xl font-semibold text-primary-blue mb-4">Explorar Habilidades</h3>
                <p class="text-gray-600">Encuentra a otros usuarios con habilidades específicas que te interesen para un intercambio.</p>
                <form class="mt-4 space-y-3">
                    <input type="text" placeholder="Ej. Diseño Gráfico, Fotografía, Idiomas..." class="w-full p-2 border border-gray-300 rounded focus:border-primary-blue focus:ring focus:ring-primary-blue focus:ring-opacity-50 transition">
                    <select class="w-full p-2 border border-gray-300 rounded focus:border-primary-blue focus:ring focus:ring-primary-blue focus:ring-opacity-50 transition">
                        <option>Todas las categorías</option>
                        <option>Arte y Diseño</option>
                        <option>Tecnología</option>
                        <option>Idiomas</option>
                        <option>Marketing</option>
                    </select>
                    <button type="submit" class="bg-primary-blue text-white py-2 px-6 rounded-lg hover:bg-blue-700 transition duration-300 ease-in-out">Buscar Habilidades</button>
                </form>
            </div>

            <!-- SECCIÓN 4: SOLICITUD DE INTERCAMBIO --><div id="intercambio" class="content-section">
                <h3 class="text-2xl font-semibold text-primary-blue mb-4">Iniciar un Nuevo Intercambio</h3>
                <p class="text-gray-600">Completa el siguiente formulario para proponer un intercambio de habilidades a la comunidad.</p>
                <form class="mt-4 space-y-4">
                    <div>
                        <label for="ofrezco" class="block text-gray-700 font-medium mb-1">Habilidad que ofreces:</label>
                        <input type="text" id="ofrezco" class="w-full p-2 border border-gray-300 rounded" placeholder="Ej. Clases de Francés">
                    </div>
                    <div>
                        <label for="busco" class="block text-gray-700 font-medium mb-1">Habilidad que buscas:</label>
                        <input type="text" id="busco" class="w-full p-2 border border-gray-300 rounded" placeholder="Ej. Retoque Fotográfico">
                    </div>
                    <div>
                        <label for="descripcion" class="block text-gray-700 font-medium mb-1">Descripción:</label>
                        <textarea id="descripcion" rows="4" class="w-full p-2 border border-gray-300 rounded" placeholder="Detalla los aspectos del intercambio..."></textarea>
                    </div>
                    <button type="submit" class="bg-primary-blue text-white py-2 px-6 rounded-lg hover:bg-blue-700 transition duration-300 ease-in-out">Enviar Solicitud</button>
                </form>
            </div>

        </div>
    </main>

    <script>
        const body = document.body;
        const initialCardsContainer = document.getElementById('initial-cards-container');
        const dashboardHeader = document.getElementById('dashboard-header');
        const selectSectionText = document.getElementById('select-section-text');
        const mainContent = document.getElementById('main-content');
        const sectionTitle = document.getElementById('section-title');
        const contentContainer = document.getElementById('content-container');

        // Todas las tarjetas iniciales
        const initialMenuCards = document.querySelectorAll('#initial-cards-container .menu-card');

        // Estado para saber si ya hemos transicionado al dashboard completo
        let isDashboardActive = false;

        // Función para cambiar la sección de contenido
        function changeContentSection(targetId, title) {
            // Ocultar todas las secciones de contenido
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // Mostrar la sección de contenido elegida
            const targetSection = document.getElementById(targetId);
            if (targetSection) {
                targetSection.classList.add('active');
                sectionTitle.textContent = title;
            }

            // Actualizar el estado activo en las tarjetas
            initialMenuCards.forEach(card => {
                if (card.dataset.target === targetId) {
                    card.classList.add('active-menu-item');
                } else {
                    card.classList.remove('active-menu-item');
                }
            });
        }

        // Función principal para iniciar el dashboard animado
        function activateDashboard(event) {
            const clickedCard = event.currentTarget;
            const targetId = clickedCard.dataset.target;
            const cardTitle = clickedCard.querySelector('.card-text-primary').textContent;

            if (!isDashboardActive) {
                // Primera vez: activar el layout del dashboard
                body.classList.add('dashboard-active');
                dashboardHeader.style.opacity = '0';
                
                // Oculta el texto "Selecciona una Sección"
                setTimeout(() => {
                    dashboardHeader.style.display = 'none';
                }, 800);

                isDashboardActive = true;

                // Después de la animación, mostrar el contenido de la primera sección
                setTimeout(() => {
                    changeContentSection(targetId, cardTitle);
                }, 800);
            } else {
                // Dashboard ya activo, solo cambiar contenido
                changeContentSection(targetId, cardTitle);
            }
        }

        // Asignar el event listener a cada tarjeta
        initialMenuCards.forEach(card => {
            card.addEventListener('click', activateDashboard);
        });
    </script>
</body>
</html>
